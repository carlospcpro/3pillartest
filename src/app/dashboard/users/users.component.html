<p-table [value]="data">
  <ng-template pTemplate="header">
    <tr>
      <th *ngFor="let col of columns">{{ col.header }}</th>
      <th>Actions</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-rowData>
    <tr>
      <td *ngFor="let col of columns">
        {{ rowData[col.field] }}
      </td>
      <td>
        <p-button
          icon="pi pi-pencil"
          (click)="showDialog(rowData)"
          class="p-button-rounded p-button-success p-mr-2"
          tooltip="Edit"
        />
        <p-button
          icon="pi pi-trash"
          class="p-button-rounded p-button-danger"
          (onClick)="confirm2($event, rowData)"
          tooltip="Delete"
        />
      </td>
    </tr>
  </ng-template>
</p-table>

<p-button
  icon="pi pi-plus"
  (click)="showDialog()"
  class="p-button-rounded p-button-success p-mr-2"
/>

<p-confirmDialog />

<p-dialog
  header="Edit Profile"
  [modal]="true"
  [(visible)]="visible"
  [style]="{ width: '25rem' }"
>
  <span class="p-text-secondary block mb-5">Update your information.</span>
  @if(visible) {

  <form [formGroup]="userForm" (ngSubmit)="saveUser()">
    <div class="flex align-items-center gap-3 mb-3">
      <label for="name" class="font-semibold w-6rem">name</label>
      <input
        pInputText
        id="name"
        formControlName="name"
        class="flex-auto"
        autocomplete="off"
      />
    </div>
    <div class="flex align-items-center gap-3 mb-5">
      <label for="email" class="font-semibold w-6rem">Email</label>
      <input
        pInputText
        id="email"
        formControlName="email"
        class="flex-auto"
        autocomplete="off"
      />
    </div>
    <div class="flex justify-content-end gap-2">
      <p-button label="Cancel" severity="secondary" (click)="hideDialog()" />
      <p-button label="Save" type="submit" />
    </div>
  </form>
  }
</p-dialog>
